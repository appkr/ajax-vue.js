{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["Vue.http.headers.common[\"X-CSRF-TOKEN\"] = document.querySelector(\"#token\").getAttribute(\"value\");\n\nnew Vue({\n  el: \"#guestbook\",\n\n  data: {\n    newMessage: {\n      name: \"\",\n      message: \"\"\n    },\n\n    submitted: false\n  },\n\n  computed: {\n    errors: function() {\n      for(var key in this.newMessage) {\n        if (! this.newMessage[key]) return true;\n      }\n\n      return false;\n    }\n  },\n\n  ready: function() {\n    this.fetchMessages();\n  },\n\n  methods: {\n    fetchMessages: function() {\n      this.$http.get('/api/messages', function(messages) {\n        this.$set('messages', messages);\n      });\n    },\n\n    onSubmitForm: function(e) {\n      e.preventDefault();\n\n      var message = this.newMessage;\n\n      this.messages.push(message);\n      this.newMessage = {name: \"\", message: \"\"};\n      this.submitted = true;\n\n      this.$http.post(\"api/messages\", message);\n    }\n  }\n});"],"sourceRoot":"/source/"}